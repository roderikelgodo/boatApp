(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,a,t){e.exports=t(28)},23:function(e){e.exports=[{_id:{$oid:"5d330cc8d8d2306203118638"},position1:"45\xb0541,548' N",position2:"2\xb032,011' E",cap:"36",compas:"45",vitesseNoeud:"10",vitesseKm:"18"},{_id:{$oid:"5d330ce1d8d2306203118644"},position1:"41\xb031148' N",position2:"3\xb032,011' E",cap:"32",compas:"40",vitesseNoeud:"15",vitesseKm:"29"},{_id:{$oid:"5d330d01d8d2306203118650"},position1:"35\xb0541,548' N",position2:"3\xb020,011' E",cap:"30",compas:"30",vitesseNoeud:"20",vitesseKm:"35"},{_id:{$oid:"5d330d34d8d230620311866a"},position1:"48\xb0541,548' N",position2:"24\xb032,011' E",cap:"40",compas:"30",vitesseNoeud:"25",vitesseKm:"45"},{_id:{$oid:"5d341c4771636429fb575f63"},position1:"20\xb0541,548' N",position2:"25\xb032,011' O",cap:"128",compas:"315",vitesseNoeud:"25",vitesseKm:"55"},{_id:{$oid:"5d4006a5d1d31d2142505859"},position1:"24\xb0322,22 N",position2:"25\xb045,011' O",cap:"128",compas:"135",vitesseNoeud:"15",vitesseKm:"33"},{_id:{$oid:"5d4006ecd1d31d2142505896"},position1:"45\xb0541,548' N",position2:"55\xb032,011' E",cap:"45",compas:"45",vitesseNoeud:"10",vitesseKm:"30"}]},24:function(e){e.exports=[{_id:{$oid:"5d30959ff1aa2a43eccaf701"},angle:"180",vitesse:"35"},{_id:{$oid:"5d32f5fe1769c130d2008414"},angle:"80",vitesse:"55"},{_id:{$oid:"5d32f6091769c130d2008419"},angle:"225",vitesse:"43"},{_id:{$oid:"5d32f62e1769c130d200842c"},angle:"180",vitesse:"61"},{_id:{$oid:"5d383657f2f0838024de724d"},angle:"135",vitesse:"30"},{_id:{$oid:"5d40070dd1d31d21425058b1"},angle:"45",vitesse:"50"},{_id:{$oid:"5d400719d1d31d21425058bf"},angle:"225",vitesse:"62"}]},26:function(e,a,t){},28:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),c=t(14),l=t.n(c),r=t(3),i=t(4),o=t(6),m=t(5),d=t(7),p=t(30),u=t(31),v=function(e){function a(){return Object(r.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement(p.a,{className:"navbar navbar-expand-lg navbar-dark bg-dark"},s.a.createElement("a",{className:"navbar-brand",href:"/#"},"Bzh"),s.a.createElement(u.a,{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle Navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},s.a.createElement("ul",{className:"navbar-nav mr-auto"},s.a.createElement("li",{className:"nav-item active"},s.a.createElement("a",{className:"nav-link",href:"/"},"Home ",s.a.createElement("span",{className:"sr-only"},"(current)"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"/#"},"Historique")),s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link dropdown-toggle",href:"/#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Dropdown"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},s.a.createElement("a",{className:"dropdown-item",href:"/#"},"Action"),s.a.createElement("a",{className:"dropdown-item",href:"/#"},"Another action"),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement("a",{className:"dropdown-item",href:"/#"},"Something else here"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link disabled",href:"/#",tabIndex:"-1","aria-disabled":"true"},"Disabled")))))}}]),a}(n.Component),E=function(e){function a(){return Object(r.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.bateau,a={transform:"rotate("+e.vitesseKm+"deg)"};return s.a.createElement("div",{className:"contenedor"},s.a.createElement("div",{className:"gauge-a"}),s.a.createElement("div",{className:"gauge-b"}),s.a.createElement("div",{className:"gauge-c",style:a}),s.a.createElement("div",{className:"gauge-data"},s.a.createElement("h1",{id:"percent"},e.vitesseKm," km/h")))}}]),a}(n.Component),b=t(2),h=t.n(b),N=function(e){function a(){return Object(r.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"donnes",value:function(e,a){this.control=!1;var t=h()(".grades").find("span"),n=parseInt(a.compas),s=["N  0\xb0","45\xb0","E 90\xb0","135\xb0","S 180\xb0","225\xb0","O 270\xb0","315\xb0"],c=["Face","Pr\xe8s","Travers","Large","Arri\xe8re","Large","Travers","Pres"],l=[0,45,90,135,180,225,270,315];h()(t).each(function(e,a){var t=0===n?45*e:n;h()(a).attr("grado",t),h()(a).css({WebkitTransform:"rotate("+t+"deg)"}),h()(a).css("border","2x dashed"),h()(a).text(s[e]),h()(a).css({WebkitTransform:"rotate("+t+"deg)"}),360!==t&&0!==t||h()(a).css("color","red"),n+=45}),t=h()(".grades_vent").find("span"),h()(".vent").remove();var r=!1,i="";h()(t).each(function(a,t){e.angle>l[a]&&e.angle<=l[a+1]?(h()(t).append('<div class="vent"></div>'),h()(t).css({WebkitTransform:"rotate("+l[a+1]+"deg)"}),r=!0,i=c[a+1]):"undefined"!==typeof l[a+1]||r||(i=c[0])}),h()(".info").remove(),h()('<div class="info">Angle du vent: <span>'+e.angle+'\xb0</span>: <span id="texto">'+i+"</span><div>").insertBefore("#vitesseVent")}},{key:"render",value:function(){var e=this.props,a=e.vent,t=e.bateau;return this.donnes(a,t),s.a.createElement("div",{className:"compas"},s.a.createElement("h1",{className:"grades"},s.a.createElement("span",{className:"1"},"1"),s.a.createElement("span",{className:"2"},"2"),s.a.createElement("span",{className:"3"},"3"),s.a.createElement("span",{className:"4"},"4"),s.a.createElement("span",{className:"5"},"5"),s.a.createElement("span",{className:"6"},"6"),s.a.createElement("span",{className:"7"},"7"),s.a.createElement("span",{className:"8"},"8")),s.a.createElement("h1",{className:"grades_vent"},s.a.createElement("span",{className:"1"}),s.a.createElement("span",{className:"2"}),s.a.createElement("span",{className:"3"}),s.a.createElement("span",{className:"4"}),s.a.createElement("span",{className:"5"}),s.a.createElement("span",{className:"6"}),s.a.createElement("span",{className:"7"}),s.a.createElement("span",{className:"8"})),s.a.createElement("div",{id:"pentagon"}),s.a.createElement("div",{id:"flecha",className:"arrow-up icon"},s.a.createElement("span",{className:"direction"},"Direction")),s.a.createElement("p",{className:"transparent-circle"}))}}]),a}(n.Component),f=function(e){function a(){return Object(r.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.cx,t=e.cy,n=e.cxx,c=e.cyy;return[s.a.createElement("circle",{key:Date.now(),cx:a,cy:t,"data-value":"",r:"4"}),s.a.createElement("line",{x1:a,y1:t,x2:n,y2:c,stroke:"black"})]}}]),a}(n.Component),g=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).points=[],t.time=!0,t.cirlces=[],t.coorsY={0:350,5:300,10:250,15:200,20:150,25:100,30:50},t.coorsX=[450,400,350,300,250,200,150,100],t.state={_id:""},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"loadData",value:function(e){var a=parseInt(e.vitesseNoeud),t=this.points.length;a&&(t&&this.points.forEach(function(e){e[1]=e[1]-50}),this.points.push([this.coorsY[a],this.coorsX[0]]),t>=8&&this.points.shift())}},{key:"render",value:function(){var e=this,a=this.props.bateau;return a&&this.time?this.time=!1:this.time=!0,a&&this.loadData(a),this.circles=this.points.map(function(a,t){return s.a.createElement(f,{key:(Date.now()+t).toString(),cx:a[1],cy:a[0],cxx:e.points[t+1]?e.points[t+1][1]:a[1],cyy:e.points[t+1]?e.points[t+1][0]:a[0]})}),s.a.createElement("div",{className:"container"},s.a.createElement("svg",{version:"1.2",className:"graph","aria-labelledby":"title",role:"img"},s.a.createElement("title",{id:"title"},"Historique de Noeuds \xe0 chaque 5 secondes"),s.a.createElement("g",{className:"grid x-grid",id:"xGrid"},s.a.createElement("line",{x1:"90",x2:"90",y1:"5",y2:"371"})),s.a.createElement("g",{className:"grid y-grid",id:"yGrid"},s.a.createElement("line",{x1:"90",x2:"450",y1:"370",y2:"370"})),s.a.createElement("g",{className:"labels x-labels"},s.a.createElement("text",{x:"100",y:"400"},"35"),s.a.createElement("text",{x:"150",y:"400"},"30"),s.a.createElement("text",{x:"200",y:"400"},"25"),s.a.createElement("text",{x:"250",y:"400"},"20"),s.a.createElement("text",{x:"300",y:"400"},"15"),s.a.createElement("text",{x:"350",y:"400"},"10"),s.a.createElement("text",{x:"400",y:"400"},"5"),s.a.createElement("text",{x:"450",y:"400"},"0"),s.a.createElement("text",{x:"300",y:"440",className:"label-title"},"Secondes")),s.a.createElement("g",{className:"labels y-labels"},s.a.createElement("text",{x:"80",y:"54"},"30"),s.a.createElement("text",{x:"80",y:"104"},"25"),s.a.createElement("text",{x:"80",y:"154"},"20"),s.a.createElement("text",{x:"80",y:"204"},"15"),s.a.createElement("text",{x:"80",y:"254"},"10"),s.a.createElement("text",{x:"80",y:"304"},"5"),s.a.createElement("text",{x:"80",y:"354"},"0"),s.a.createElement("text",{x:"50",y:"90",className:"label-title"},"Noeuds")),s.a.createElement("g",{className:"data","data-setname":"noeuds par secondes"},this.circles)))}}]),a}(n.Component),x=function(e){function a(){return Object(r.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.vent,t=e.bateau;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row all-tableros"},s.a.createElement("div",{className:"col-xs-12 col-sm-8 title"},s.a.createElement("span",null,"Donn\xe9es de navigation")),s.a.createElement("div",{className:"w-100"}),s.a.createElement("div",{className:"col-xs-12 col-md-8 tablero"},s.a.createElement("h2",null,"Vitesse"),s.a.createElement("p",null," ",t.vitesseNoeud," N"),s.a.createElement(E,{bateau:t})),s.a.createElement("div",{className:"w-100"}),s.a.createElement("div",{className:"col-xs-6 col-md-4 tablero"},s.a.createElement("h2",null,"Route (COG)"),s.a.createElement("p",null," ",t.cap," \xb0")),s.a.createElement("div",{className:"col-xs-12 col-md-4 tablero"},s.a.createElement("h2",null,"Compas"),s.a.createElement("p",null," ",t.compas,"N")),s.a.createElement("div",{className:"col-xs-12 col-md-8 tablero"},s.a.createElement("h2",null,"Position"),s.a.createElement("p",null," ",t.position1),s.a.createElement("p",null," ",t.position2)),s.a.createElement("div",{className:"w-100"}),s.a.createElement("div",{className:"col-xs-12 col-md-8 tablero"},s.a.createElement("h2",null,"Direction (CAP) et Angle du vent"),s.a.createElement(N,{bateau:t,vent:a}),s.a.createElement("p",{id:"vitesseVent"},"Vitesse actuelle du vent: ",a.vitesse," km/h")),s.a.createElement("div",{className:"w-100"}),s.a.createElement("div",{className:"col-xs-12 col-md-8 tablero"},s.a.createElement("h2",null,"Historique"),s.a.createElement(g,{bateau:t})),s.a.createElement("div",{className:"w-100"})))}}]),a}(n.Component),y=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={vent:[],bateau:[]},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getDataJson(),setInterval(function(){return e.getDataJson()},1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.getData())}},{key:"getData",value:function(){var e=this,a="http://localhost:3000/vent";fetch(a).then(function(e){return e.json()}).then(function(a){a.ok&&e.setState({vent:a.vent})}),a="http://localhost:3000/bateau",fetch(a).then(function(e){return e.json()}).then(function(a){a.ok&&e.setState({bateau:a.bateau})})}},{key:"getDataJson",value:function(){var e=t(23),a=t(24),n=a.length,s=Math.floor(Math.random()*n);this.setState({bateau:e[s],vent:a[s]})}},{key:"render",value:function(){var e=this.state.vent,a=this.state.bateau;return s.a.createElement("div",null,s.a.createElement(v,null),s.a.createElement(x,{vent:e,bateau:a}))}}]),a}(n.Component);t(25),t(26),t(27);l.a.render(s.a.createElement(y,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.544cbcba.chunk.js.map